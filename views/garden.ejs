<%- include('partials/header-auth') %>

<main class="bg-bkgd font-body text-darkGray flex flex-col">
  <section id="garden" class="garden container flex flex-col h-screen">
    <div class="bg-lightYellow py-14 flex flex-col items-center justify-center w-full px-8 mx-auto rounded-lg shadow-md">
      <div id="messages" class="text-alert flex-col pb-10 mx-auto text-xl font-bold text-center"></div>
      <div class="flex flex-row justify-between w-1/2 pb-10">
        <button id="saveBtn" type="button" onclick="saveGarden('<%= user._id %>')" class=" bg-darkPinkOrange hover:bg-vDarkPinkOrange text-lightGreen focus:outline-none justify-center w-full px-4 py-2 mx-auto mb-4 mr-3 font-bold rounded">Save!</button>
        <button id="clearBtn" type="button" onclick="clearGarden('<%= user._id %>')" class="bg-darkPinkOrange hover:bg-vDarkPinkOrange text-lightGreen focus:outline-none justify-center w-full px-4 py-2 mx-auto mb-4 font-bold rounded">Clear!</button>
      </div>
      <div class="flex flex-row items-center justify-center w-full mx-auto">
        <div class="garden-icon-list flex flex-col justify-center w-1/4">
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Root</span>
            <img src="/images/icons8-carrot-40.png" alt="carrot" id="carrot" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Potato</span>
            <img src="/images/icons8-potato-40.png" alt="potato" id="potato" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Solanum</span>
            <img src="/images/icons8-tomato-40.png" alt="tomato" id="tomato" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Corn</span>
            <img src="/images/icons8-corn-48.png" alt="corn" id="corn" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Legume</span>
            <img src="/images/icons8-edamame-beans-48.png" alt="beans" id="beans" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Allium</span>
            <img src="/images/icons8-garlic-40.png" alt="garlic" id="garlic" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Greens</span>
            <img src="/images/icons8-lettuce-48.png" alt="lettuce" id="lettuce" class="garden-icon cursor-move" draggable="true">
          </div>
          <div class="border-lightOrange my-1 mr-10 border-b"></div>
          <div class="flex flex-row justify-between my-3 mr-10">
            <span class="text-heading flex items-center justify-center text-xs font-bold uppercase">Cucurbit</span>
            <img src="/images/icons8-melon-40.png" alt="melon" id="melon" class="garden-icon cursor-move" draggable="true">
          </div>
        </div>
        <div class="bg-accent grid items-center w-3/4 grid-cols-10 gap-0 p-6 mx-auto rounded shadow-md">
          <% for (let i = 0; i < 10; i++) { %>
          <% for (let j = 0; j < 10; j++) { %>
          <div class="garden-cell border-darkGreen w-12 h-12 p-0 m-0 border" data-row="<%= i %>" data-col="<%= j %>" id="cell-<%= i %>-<%= j %>">
            <% if (user.garden && user.garden.cells) {
              const cell = user.garden.cells.find(c => c.position.row === i && c.position.col === j);
              if (cell) { %>
            <%= cell.icon %>
            <% }
            } %>
          </div>
          <% } %>
          <% } %>
        </div>
      </div>
    </div>
  </section>
</main>

<%- include('partials/footer') -%>