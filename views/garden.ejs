<%- include('partials/header-auth') %>

<div id="garden" class="garden flex flex-row">
  <div>
    <button id="saveBtn" type="button" onclick="saveGarden('<%= user._id %>')">Save Garden</button>
    <button id="clearBtn" type="button" onclick="clearGarden('<%= user._id %>')">Clear Garden</button>
  </div>
  <div class="flex flex-col">
    <img src="/images/icons8-carrot-40.png" alt="carrot" id="carrot" class="garden-icon" draggable="true">
    <img src="/images/icons8-potato-40.png" alt="potato" id="potato" class="garden-icon" draggable="true">
    <img src="/images/icons8-tomato-40.png" alt="tomato" id="tomato" class="garden-icon" draggable="true">
    <img src="/images/icons8-corn-48.png" alt="corn" id="corn" class="garden-icon" draggable="true">
    <img src="/images/icons8-edamame-beans-48.png" alt="beans" id="beans" class="garden-icon" draggable="true">
    <img src="/images/icons8-garlic-40.png" alt="garlic" id="garlic" class="garden-icon" draggable="true">
    <img src="/images/icons8-lettuce-48.png" alt="lettuce" id="lettuce" class="garden-icon" draggable="true">
    <img src="/images/icons8-melon-40.png" alt="melon" id="melon" class="garden-icon" draggable="true">
  </div>
  <div class="bg-slate-400 h-100 w-full grid grid-cols-10 gap-0 ">
    <% for (let i = 0; i < 10; i++) { %>
    <% for (let j = 0; j < 10; j++) { %>
    <div class="garden-cell border border-sky-500 w-10 h-10" data-row="<%= i %>" data-col="<%= j %>" id="cell-<%= i %>-<%= j %>">
      <% if (user.garden && user.garden.cells) {
            const cell = user.garden.cells.find(c => c.position.row === i && c.position.col === j);
            if (cell) { %>
      <%= cell.icon %>
      <% }
          } %>
    </div>
    <% } %>
    <% } %>
  </div>
</div>

<p>Vegetable icons by<a target="_blank" href="https://icons8.com">Icons8</a></p>

<%- include('partials/footer') -%>