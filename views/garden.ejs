<%- include('partials/header-auth') %>

<main class="bg-bkgd font-body text-darkGray flex flex-col">
  <section id="garden" class="garden container flex flex-col">
    <div class="flex flex-col mx-auto bg-lightYellow shadow-md rounded-lg w-full px-8 py-28  items-center justify-center">
      <div class="flex flex-row w-1/2 justify-between">
        <button id="saveBtn" type="button" onclick="saveGarden('<%= user._id %>')" class=" w-full mb-4 bg-darkPinkOrange hover:bg-vDarkPinkOrange text-lightGreen font-bold py-2 px-4 rounded mr-3 focus:outline-none mx-auto justify-center">Save!</button>
        <button id="clearBtn" type="button" onclick="clearGarden('<%= user._id %>')" class="w-full mb-4 bg-darkPinkOrange hover:bg-vDarkPinkOrange text-lightGreen font-bold py-2 px-4 rounded focus:outline-none mx-auto justify-center">Clear!</button>
      </div>
      <div class="flex flex-row w-full items-center justify-center mx-auto">
        <div class="garden-icon-list flex flex-col justify-center w-1/4">
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Root</span>
            <img src="/images/icons8-carrot-40.png" alt="carrot" id="carrot" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Potato</span>
            <img src="/images/icons8-potato-40.png" alt="potato" id="potato" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Solanum</span>
            <img src="/images/icons8-tomato-40.png" alt="tomato" id="tomato" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Corn</span>
            <img src="/images/icons8-corn-48.png" alt="corn" id="corn" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Legume</span>
            <img src="/images/icons8-edamame-beans-48.png" alt="beans" id="beans" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Allium</span>
            <img src="/images/icons8-garlic-40.png" alt="garlic" id="garlic" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10 border-b border-lightOrange">
            <span class="text-xs flex justify-center items-center">Greens</span>
            <img src="/images/icons8-lettuce-48.png" alt="lettuce" id="lettuce" class="garden-icon cursor-move my-3" draggable="true">
          </div>
          <div class="flex flex-row justify-between mr-10">
            <span class="text-xs flex justify-center items-center">Cucurbit</span>
            <img src="/images/icons8-melon-40.png" alt="melon" id="melon" class="garden-icon cursor-move my-3" draggable="true">
          </div>
        </div>
        <div class="bg-accent shadow-md rounded p-6 mx-auto grid grid-cols-10 gap-0 w-3/4">
          <% for (let i = 0; i < 10; i++) { %>
          <% for (let j = 0; j < 10; j++) { %>
          <div class="garden-cell border border-darkGreen w-12 h-12 p-0 m-0" data-row="<%= i %>" data-col="<%= j %>" id="cell-<%= i %>-<%= j %>">
            <% if (user.garden && user.garden.cells) {
              const cell = user.garden.cells.find(c => c.position.row === i && c.position.col === j);
              if (cell) { %>
            <%= cell.icon %>
            <% }
            } %>
          </div>
          <% } %>
          <% } %>
        </div>
      </div>
    </div>
    </div>
    <p class="text-xs my-2 text-right mr-10 text-darkGreen">Vegetable icons by<a target="_blank" href="https://icons8.com" class="text-darkPinkOrange hover:text-lightPurple"> Icons8</a></p>
  </section>
</main>

<%- include('partials/footer') -%>